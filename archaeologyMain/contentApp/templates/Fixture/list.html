{% extends "base.html" %}
{% load static %}

{% block site-title %}
Demirbaş Listesi
{% endblock site-title %}


{% block site-content %}
<div class="container">


    <!-- Django Filter Start -->
    <form method="get" action="{% url 'fixture-liste' %}">
        <div class="card p-5 mt-5">
            <div class="card-header">Detaylı Arama</div>
            <div class="row justify-content-center align-items-center mt-5 mb-5">
                <div class="col-md-2">
                    <label for="id_name" class="mb-2">Demirbaş Adı</label>
                    {{form.name}}
                </div>
                <div class="col-md-2">
                    <label for="id_marka" class="mb-2">Demirbaş Marka</label>
                    {{form.marka}}
                </div>
                <div class="col-md-2">
                    <label for="id_model" class="mb-2">Demirbaş Model</label>
                    {{form.model}}
                </div>
                <div class="col-md-2">
                    <label for="id_piece" class="mb-2">Demirbaş Adet</label>
                    {{form.piece}}
                </div>
                <div class="col-md-2">
                    <label for="id_piece" class="mb-2">Demirbaş Zimmetli Kişi</label>
                    {{form.custodian}}
                </div>
                <div class="col-md-1">
                    <button type="submit" class="btn btn-success">Filtrele</button>
                </div>
            </div>
        </div>


    </form>
    <div class="card mt-5 p-5">
        <table class="table table-striped" id="tablo">
            <!-- Tablo başlıkları -->
            <thead>
                <tr>
                    <th>Demirbaş Adı</th>
                    <th>Marka</th>
                    <th>Model</th>
                    <th>Adet</th>
                    <th>Toplam Fiyat</th>
                    <th>Alım Tarihi</th>
                    <th>Bulunduğu Yer</th>
                    <th>Zimmetli Kişi</th>
                    {% if request.user.is_superuser or request.user.isModerator == True %}
                    <th>İşlemler</th>
                    {% endif %}
                </tr>
            </thead>
            <!-- Tablo verileri -->
            <tbody>
                {% for fixture in fixtures %}
                <tr>
                    <td>{{ fixture.name }}</td>
                    <td>{{ fixture.marka }}</td>
                    <td>{{ fixture.model }}</td>
                    <td>{{ fixture.piece }}</td>
                    <td>{{ fixture.totalprice }}</td>
                    <td>{{ fixture.dateofaddition }}</td>
                    <td>{{ fixture.where }}</td>
                    <td>{{ fixture.custodian }}</td>
                    {% if request.user.is_superuser or request.user.isModerator == True %}
                    <td><a href="#" class="mb-2 me-3"><button class="btn btn-danger">Sil</button></a><a href="#"><button
                                class="btn btn-info">Düzenle</button></a></td>
                </tr>
                {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock site-content %}